<!-- index.html -->
<!-- ВЕРСИЯ 2: Исправлены некорректные ссылки в <script> и <style> -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iTSAR Founders' Circle</title>
    <!-- Подключаем скрипт Telegram Web App -->
    <script src="[https://telegram.org/js/telegram-web-app.js](https://telegram.org/js/telegram-web-app.js)"></script>
    <style>
        @import url('[https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap](https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap)');

        :root {
            --tg-theme-bg-color: #ffffff;
            --tg-theme-text-color: #000000;
            --tg-theme-hint-color: #999999;
            --tg-theme-link-color: #007aff;
            --tg-theme-button-color: #007aff;
            --tg-theme-button-text-color: #ffffff;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--tg-theme-bg-color);
            color: var(--tg-theme-text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 95vh;
            box-sizing: border-box;
        }

        .container {
            max-width: 400px;
            width: 100%;
        }

        .logo {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .welcome-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .user-info {
            font-size: 16px;
            color: var(--tg-theme-hint-color);
            margin-bottom: 30px;
            word-wrap: break-word;
        }

        .button {
            background-color: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.1s ease;
        }
        
        .button:active {
            transform: scale(0.97);
        }

    </style>
</head>
<body>

    <div class="container">
        <div class="logo">iTSAR</div>
        <h1 class="welcome-title">Добро пожаловать в Клуб Основателей</h1>
        <p class="user-info" id="user-info-text">Загрузка данных пользователя...</p>
        <button class="button" id="main-button">Начать</button>
    </div>

    <script>
        // Инициализируем приложение Telegram
        const tg = window.Telegram.WebApp;
        tg.ready();

        // Меняем цвет шапки и фона для соответствия теме Telegram
        tg.setHeaderColor('#1a1a1a');
        tg.setBackgroundColor('#1a1a1a');

        const userInfoText = document.getElementById('user-info-text');
        const mainButton = document.getElementById('main-button');

        // Проверяем, есть ли данные о пользователе
        if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
            const user = tg.initDataUnsafe.user;
            let welcomeMessage = `ID: ${user.id}`;
            if (user.first_name) {
                welcomeMessage = `Привет, ${user.first_name}!`;
            }
            userInfoText.textContent = `Вы вошли как ${user.username || user.first_name || 'пользователь'} (ID: ${user.id}).`;
            mainButton.textContent = welcomeMessage;

        } else {
            userInfoText.textContent = "Не удалось загрузить данные. Пожалуйста, убедитесь, что вы открыли приложение внутри Telegram.";
            mainButton.style.display = 'none';
        }
        
        // Пример взаимодействия: отправляем данные в бот
        mainButton.addEventListener('click', () => {
            const dataToSend = {
                message: "Пользователь нажал 'Начать'",
                userId: tg.initDataUnsafe.user ? tg.initDataUnsafe.user.id : null,
            };
            // Эта функция отправляет данные вашему боту
            tg.sendData(JSON.stringify(dataToSend));

            // Показываем всплывающее уведомление
            tg.showPopup({
                title: 'Отлично!',
                message: 'Это начало большого пути. Скоро здесь появится анкета.',
                buttons: [{type: 'ok', text: 'Понятно'}]
            });
        });

    </script>
</body>
</html>
